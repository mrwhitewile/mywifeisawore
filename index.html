<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bad Pickney6</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="description" content="Bad Pickney6 is a modern card-selling platform with stylish, responsive experiences." />
  <link rel="icon" href="assets/images/favicon.ico" />
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="container header-container">
      <div class="logo">
        <img src="assets/images/bank-robber.png" alt="Bank Robber Logo" />
        <h1>Bad Pickney6</h1>
      </div>
      <nav>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#shop">Shop</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <button id="loginBtn" class="btn-login">Login/Register</button>
    </div>
  </header>

  <!-- HERO -->
  <section id="home" class="hero">
    <div class="container">
      <h2>Buy Your Custom Cards</h2>
      <p>Modern, sleek, and personalized cards at your fingertips.</p>
      <a href="#shop" class="btn">Shop Now</a>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="section">
    <div class="container">
      <h2>About Bad Pickney6</h2>
      <p>We provide high-quality modern cards designed for style and usability. Perfect for personal or business use.</p>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="section">
    <div class="container">
      <h2>Our Services</h2>
      <div class="services-grid">
        <div class="service">
          <h3>Custom Cards</h3>
          <p>Design your own card or choose from our templates.</p>
        </div>
        <div class="service">
          <h3>Fast Delivery</h3>
          <p>Get your cards quickly with safe and secure shipping.</p>
        </div>
        <div class="service">
          <h3>Support</h3>
          <p>24/7 customer support for all your card needs.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- SHOP -->
  <section id="shop" class="section">
    <div class="container">
      <h2>Shop Cards</h2>
      <p id="shopNotice" class="shop-notice">Please log in to view and buy cards.</p>
      <div class="shop-grid" id="shopGrid"></div>
    </div>
  </section>

  <!-- CART / CHECKOUT MODAL -->
  <div id="cartModal" class="cart-modal">
    <div class="cart-content">
      <h3>Your Cart</h3>
      <ul id="cartItems"></ul>
      <p id="cartTotal"></p>
      <button id="checkoutBtn">Checkout</button>
      <button id="closeCartBtn">Close</button>
    </div>
  </div>

  <!-- CONTACT -->
  <section id="contact" class="section">
    <div class="container">
      <h2>Contact Us</h2>
      <form action="https://formspree.io/f/xgvregnq" method="POST">
        <input type="text" name="name" placeholder="Your Name" required />
        <input type="email" name="email" placeholder="Your Email" required />
        <textarea name="message" placeholder="Your Message" required></textarea>
        <button type="submit">Send Message</button>
      </form>
    </div>
  </section>

  <!-- LOGIN / REGISTER MODAL -->
  <div id="authModal" class="auth-modal">
    <div class="auth-content">
      <button id="closeAuthBtn" class="close-btn">&times;</button>
      <div class="auth-forms">
        <div id="registerFormContainer">
          <h3>Register</h3>
          <form id="registerForm">
            <input type="text" name="name" placeholder="Name" required>
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Password" required>
            <input type="password" name="confirmPassword" placeholder="Confirm Password" required>
            <button type="submit">Register</button>
          </form>
        </div>
        <div id="loginFormContainer">
          <h3>Login</h3>
          <form id="loginForm">
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">Login</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 Bad Pickney6. All rights reserved.</p>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // Login/Register modal toggle
    const authModal = document.getElementById('authModal');
    const loginBtn = document.getElementById('loginBtn');
    const closeAuthBtn = document.getElementById('closeAuthBtn');
    loginBtn.addEventListener('click', () => authModal.style.display = 'flex');
    closeAuthBtn.addEventListener('click', () => authModal.style.display = 'none');

    // Toggle forms inside modal
    const registerFormContainer = document.getElementById('registerFormContainer');
    const loginFormContainer = document.getElementById('loginFormContainer');

    // Initialize forms
    registerFormContainer.style.display = 'block';
    loginFormContainer.style.display = 'none';

    // Register form
    const registerForm = document.getElementById('registerForm');
    registerForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = registerForm.name.value.trim();
      const email = registerForm.email.value.trim().toLowerCase();
      const password = registerForm.password.value.trim();
      const confirmPassword = registerForm.confirmPassword.value.trim();

      if (password !== confirmPassword) return alert('Passwords do not match!');
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      if (users.some(u => u.email === email)) return alert('Email already registered!');

      users.push({ name, email, password });
      localStorage.setItem('users', JSON.stringify(users));
      alert('Registration successful! You can now login.');
      registerForm.reset();
      registerFormContainer.style.display = 'none';
      loginFormContainer.style.display = 'block';
    });

    // Login form
    const loginForm = document.getElementById('loginForm');
    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const email = loginForm.email.value.trim().toLowerCase();
      const password = loginForm.password.value.trim();
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      const user = users.find(u => u.email === email && u.password === password);
      if (user) {
        localStorage.setItem('loggedInUser', JSON.stringify(user));
        alert('Login successful!');
        authModal.style.display = 'none';
        showShop(); // show shop now that user is logged in
      } else {
        alert('Invalid email or password.');
      }
    });

    // SHOP ITEMS
    const shopItems = [
      { name: 'Red Card', price: 10, color: '#e74c3c' },
      { name: 'Blue Card', price: 12, color: '#3498db' },
      { name: 'Green Card', price: 11, color: '#2ecc71' },
      { name: 'Purple Card', price: 13, color: '#9b59b6' }
    ];

    const shopGrid = document.getElementById('shopGrid');
    const shopNotice = document.getElementById('shopNotice');

    function showShop() {
      const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
      if (!loggedInUser) {
        shopNotice.style.display = 'block';
        shopGrid.innerHTML = '';
        return;
      }
      shopNotice.style.display = 'none';
      shopGrid.innerHTML = '';
      shopItems.forEach((item, index) => {
        const card = document.createElement('div');
        card.className = 'shop-card';
        card.innerHTML = `
          <div class="card-preview" style="background-color: ${item.color}; height: 150px; border-radius: 12px;"></div>
          <h3>${item.name}</h3>
          <p>$${item.price}</p>
          <button class="buy-btn" data-index="${index}">Add to Cart</button>
        `;
        shopGrid.appendChild(card);
      });

      // Add to cart
      document.querySelectorAll('.buy-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const idx = e.target.dataset.index;
          addToCart(shopItems[idx]);
        });
      });
    }

    // CART
    let cart = [];
    const cartModal = document.getElementById('cartModal');
    const cartItemsList = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const closeCartBtn = document.getElementById('closeCartBtn');

    function addToCart(item) {
      cart.push(item);
      updateCartDisplay();
      cartModal.style.display = 'flex';
    }

    function updateCartDisplay() {
      cartItemsList.innerHTML = '';
      let total = 0;
      cart.forEach((item, i) => {
        total += item.price;
        const li = document.createElement('li');
        li.textContent = `${item.name} - $${item.price}`;
        cartItemsList.appendChild(li);
      });
      cartTotal.textContent = `Total: $${total}`;
    }

    closeCartBtn.addEventListener('click', () => cartModal.style.display = 'none');

    checkoutBtn.addEventListener('click', () => {
      alert('Checkout completed! (demo mode)');
      cart = [];
      updateCartDisplay();
      cartModal.style.display = 'none';
    });

    // On load, show shop if logged in
    document.addEventListener('DOMContentLoaded', showShop);
  </script>
</body>
</html>