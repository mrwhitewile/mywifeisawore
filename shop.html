<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shop - Bad Pickney6</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<header>
  <div class="container">
    <div class="logo">
      <img src="assets/images/bank-robber.png" alt="Bank Robber Logo" />
      <h1>Bad Pickney6</h1>
    </div>
    <nav>
      <ul>
        <li><a href="index.html#home">Home</a></li>
        <li><a href="index.html#about">About</a></li>
        <li><a href="index.html#services">Services</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="index.html#contact">Contact</a></li>
      </ul>
    </nav>
  </div>
</header>

<section id="shop" class="section">
  <div class="container">
    <h2>Shop Cards</h2>
    <div class="shop-grid" id="shopGrid">
      <!-- Cards will be injected here -->
    </div>
    <div style="text-align:center; margin-top:30px;">
      <a href="checkout.html" class="btn">Go to Checkout</a>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <p>&copy; 2025 Bad Pickney6. All rights reserved.</p>
  </div>
</footer>

<script>
  // Check if user is logged in
  const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
  if(!loggedInUser){
    alert('You must log in to access the shop!');
    window.location.href='index.html#auth';
  }

  // Shop items
  const cards = [
    { name: 'Gold Card', price: 50, color:'#FFD700' },
    { name: 'Silver Card', price: 30, color:'#C0C0C0' },
    { name: 'Bronze Card', price: 20, color:'#CD7F32' }
  ];

  const shopGrid = document.getElementById('shopGrid');

  cards.forEach(card => {
    const cardDiv = document.createElement('div');
    cardDiv.classList.add('shop-card');
    cardDiv.innerHTML = `
      <div class="card-preview" style="background:${card.color};">${card.name}</div>
      <h3>${card.name}</h3>
      <p>$${card.price.toFixed(2)}</p>
      <button class="buy-btn">Buy</button>
    `;
    const buyBtn = cardDiv.querySelector('.buy-btn');
    buyBtn.addEventListener('click', () => {
      let cart = JSON.parse(localStorage.getItem('cart')||'[]');
      cart.push({name: card.name, price: card.price});
      localStorage.setItem('cart', JSON.stringify(cart));
      alert(`${card.name} added to cart!`);
    });
    shopGrid.appendChild(cardDiv);
  });
</script>

</body>
</html>
